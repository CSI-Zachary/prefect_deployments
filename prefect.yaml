# Generic metadata about this project
name: Mover
prefect-version: 3.4.21

# build section allows you to manage and build docker images
build: null

# push section allows you to manage if and how this project is uploaded to remote locations
push: null

# pull section allows you to provide instructions for cloning this project in remote locations
pull:
  - prefect.deployments.steps.git_clone:
      repository: https://github.com/CSI-Zachary/Mover.git
      branch: PrefectEdit
      # Ensure this block exists in your Prefect UI!
      credentials: "{{ prefect.blocks.github-credentials.2026-prefect }}"
  
  # CRITICAL: This sets the working directory to the folder we just cloned.
  # Without this, the worker might try to run the file from the wrong location.
  - prefect.deployments.steps.set_working_directory:
      directory: .

# the deployments section allows you to provide configuration for deploying flows
deployments:
  - name: mover
    version: null
    tags: []
    description: "Moves files based on logic"
    schedule: {}
    flow_name: mover
    # Ensure mover.py is at the root of your repo. 
    # If it is in a subfolder (e.g., src/mover.py), change to src/mover.py:mover
    entrypoint: mover.py:mover
    parameters: {}
    work_pool:
      name: mover_pool
      work_queue_name: default # usually 'default' unless you specifically made a 'mover_queue'
      job_variables: {}